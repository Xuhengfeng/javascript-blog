学习Javascript闭包
--------------------------------------------------------------

作者: 徐横峰

一丶变量的作用域
---------------------------------------------------------------

### 
	-要理解闭包，首先必须理解Javascript特殊的变量作用域。
	-变量的作用域无非就是两种：全局变量和局部变量。
	-Javascript语言的特殊之处，就在于函数内部可以直接读取全局变量。

### 全局的变量

var n = 23;           
      
function f1() {       
      
　　alert(n);         
     
}                     

f1();                  

输出结果:23              

函数的内部可以读取到全局下的变量  



### 局部的变量

function f1() {            

	var n = 888;           
	
}

alert(n);  

输出结果:error           

函数内部声明变量不能被读取  




### 特殊的全局变量   

function f1() {     

	n = 888;           
	
}

alert(n);  

输出结果:888

受未声明的变量提升作用  变成全局变量



二、如何从外部读取局部变量？
---------------------------------------------------------------

###   	
	-出于种种原因，我们有时候需要得到函数内的局部变量。
	-但是，前面已经说过了，正常情况下，这是办不到的，只有通过变通方法才能实现。
	-那就是在函数的内部，再定义一个函数。


function f1(){

　　　var n=999;

　　　function f2(){

　　　　　alert(n); // 999

　　　}

}


	-函数f2就被包括在函数f1内部，这时f1内部的所有局部变量，对f2都是可见的。
	-但是反过来就不行，f2内部的局部变量，对f1就是不可见的。
	-这就是Javascript语言特有的"链式作用域"结构（chain scope），
	-子对象会一级一级地向上寻找所有父对象的变量。所以，父对象的所有变量，对子对象都是可见的，
	-反之则不成立。


#### 既然f2可以读取f1中的局部变量，那么只要把f2作为返回值，我们不就可以在f1外部读取它的内部变量了吗！



function f1(){

　　　　var n=999;

　　　　function f2(){

　　　　　　alert(n); 

　　　　}

　　　　return f2;

　　}

var result=f1();

result(); 

输出结果: 999

### 注意:

###
	-函数返回值 是丢给函数其本身的值,函数所在的位置决定 返回值是全局的 还是局部的 
	-返回值不一定是返回给全局的 
	-这一点务必记住!!!!!!



### 闭包它的最大用处有两个:

###
	-一个是前面提到的可以读取函数内部的变量，
	-另一个就是让这些变量的值始终保持在内存中。





















看一下美女  提提神!

<img src="/Assets/yuner.jpg" />  